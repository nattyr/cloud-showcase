on:
    workflow_dispatch:

jobs:
    get_caller_identity:
        name: Get Caller Identity
        runs-on: ubuntu-latest
        permissions:
            id-token: write
            contents: read
        steps:
            - name: Configure AWS credentials
              uses: aws-actions/configure-aws-credentials@v4
              with: 
                role-to-assume: arn:aws:iam::${{secrets.AWS_ACCOUNT_ID}}:role/GitHub_Actions
                aws-region: ap-southeast-2
            - name: Fetch the caller identity
              run: |
                aws sts get-caller-identity